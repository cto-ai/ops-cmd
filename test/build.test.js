import { rigging } from 'clif-dev'
import { test, mockalicious } from 'tapx'
import * as common from './common.js'
const harness = rigging.cmd(import.meta.url, mockalicious(import.meta.url))

test('build', async ({ matchSnapshot }) => {
  const mocks = { ...common.mocks() }
  const cmd = await harness('build', mocks)
  const interactions = []
  const opts = { settings: { ...common.settings } }
  const patterns = await cmd(interactions, opts)
  matchSnapshot(patterns)
})
